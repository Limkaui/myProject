<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.spring.reserve.dao.ReserveMapper">
	<!-- 예약COUNT -->
	<select id="reserveRowCount" resultType="integer">
		SELECT COUNT(*) FROM reserve r JOIN member m ON r.mem_num = m.mem_num
	</select>
	<!-- 예약 목록 -->
	<select id="reserveList" parameterType="map" resultType="reserveVO">
		SELECT * FROM (SELECT a.*, rownum rnum FROM (SELECT r.rsv_num,r.rsv_date
		FROM reserve r JOIN member m ON r.mem_num=m.mem_num ORDER BY r.rsv_num DESC)a)
		<![CDATA[WHERE rnum >= #{start} AND rnum <= #{end}]]>
	</select>

</mapper>